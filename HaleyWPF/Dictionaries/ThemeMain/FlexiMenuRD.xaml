<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:bc="clr-namespace:Haley.WPF.BaseControls"
    xmlns:gc="clr-namespace:Haley.WPF.GroupControls" 
    xmlns:mdl="clr-namespace:Haley.Models"
    xmlns:ml="clr-namespace:Haley.Models">

    <ResourceDictionary.MergedDictionaries>
        <ml:CommonDictionary Source="pack://application:,,,/Haley.WPF;component/Dictionaries/haleyThemeExtra.xaml"/>
    </ResourceDictionary.MergedDictionaries>

    <Style x:Key="internal_flexiMenu_cmbBtn" TargetType="{x:Type bc:ComboButton}">
        <Setter Property="ImageLocation" Value="Top"/>
        <Setter Property="Height" Value="30"/>
        <Setter Property="ImageLocation" Value="Left"/>
        <Setter Property="VerticalContentAlignment" Value="Bottom"/>
        <Setter Property="HorizontalContentAlignment" Value="Left"/>
        <Setter Property="Margin" Value="5,3"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="Foreground" Value="{DynamicResource def_content_inverted}"/>
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="mdl:Icon.HoverColor" Value="#FF2E0A81"/>
        <Setter Property="mdl:Hover.Background" Value="#99318D8D"/>
        <Setter Property="mdl:Icon.DefaultColor" Value="#FFE9E9E9"/>
    </Style>
    
    <Style TargetType="{x:Type gc:FlexiMenu}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type gc:FlexiMenu}">
                    <DockPanel LastChildFill="True">
                        <Border DockPanel.Dock="Left" BorderBrush="Gray" BorderThickness="1" Background="#FF242229">
                            <Grid Width="200">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                
                                <!--MENU HEADER & LOGO-->
                                <Grid Height="100">
                                    <Grid.Background>
                                        <ImageBrush TileMode="Tile" Stretch="UniformToFill" />
                                    </Grid.Background>
                                    <Grid Background="#990A0A0A" VerticalAlignment="Bottom" Height="Auto">
                                        <TextBlock Text="Project Management v1.0" HorizontalAlignment="Center" VerticalAlignment="Bottom" TextWrapping="WrapWithOverflow" TextAlignment="Center" Margin="0,10" Foreground="White"/>
                                    </Grid>
                                    <bc:ImageToggleButton Icon="{StaticResource hamburger_square}" HorizontalAlignment="Right" VerticalAlignment="Top" ColorOFF="White" ColorON="White"/>
                                    <Border Height="35" Width="35" HorizontalAlignment="Left" VerticalAlignment="Top" Style="{StaticResource internal_tglebtn_BorderCircular}" Background="#66000000">
                                        <!--<Image Source="Images/hippo_bliue.png"  Margin="4"/>-->
                                    </Border>
                                </Grid>
                                
                                <!--ACTUAL MENU-->

                                <Grid Grid.Row="1">
                                    <!--<Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>-->
                                    <bc:ComboRepeatButton x:Name="upButton" Height="25" Background="#339399A4" mdl:Icon.Default="{StaticResource arrow_line}" RenderTransformOrigin="0.5,0.5" VerticalAlignment="Top" Panel.ZIndex="99">
                                        <bc:ComboRepeatButton.RenderTransform>
                                            <TransformGroup>
                                                <RotateTransform Angle="180"/>
                                            </TransformGroup>
                                        </bc:ComboRepeatButton.RenderTransform>
                                    </bc:ComboRepeatButton>
                                    <bc:ComboRepeatButton x:Name="downButton" Grid.Row="2" Height="25" Background="#33000000" mdl:Icon.Default="{StaticResource arrow_line}" VerticalAlignment="Bottom" Panel.ZIndex="99"/>

                                    <bc:FlexiScroll Grid.Row="1" CanContentScroll="True"  HorizontalScrollBarVisibility="Hidden" RepeatDown="{Binding ElementName=downButton}" RepeatUp="{Binding ElementName=upButton}" VerticalScrollBarVisibility="Hidden" Panel.ZIndex="1">
                                        <ListView x:Name="PART_MenuSource"  Style="{StaticResource CleanListView}">
                                            <ListView.Resources>
                                                <Style TargetType="{x:Type bc:ComboButton}" BasedOn="{StaticResource internal_flexiMenu_cmbBtn}"/>
                                            </ListView.Resources>
                                            <ListView.ItemTemplate>
                                                <DataTemplate>
                                                    <bc:ComboButton Content="{Binding Label,NotifyOnSourceUpdated=True, UpdateSourceTrigger=PropertyChanged}"  mdl:Icon.Default="{Binding Path=(mdl:Icon.Default)}" mdl:Icon.DefaultColor="{Binding Path=(mdl:Icon.DefaultColor}" mdl:Icon.Hover="{Binding Path=(mdl:Icon.Hover)}" mdl:Icon.HoverColor="{Binding Path=(mdl:Icon.HoverColor)}"/>
                                                </DataTemplate>
                                            </ListView.ItemTemplate>
                                        </ListView>
                                    </bc:FlexiScroll>
                                </Grid>
                                <bc:Separator Grid.Row="2" Size="3" Background="#B2AC07F9"/>
                                <Grid Height="40" Grid.Row="3"/>
                                <Grid Grid.Row="4" Margin="5">
                                    <TextBlock Text="Copyright 2021" Style="{StaticResource def_h4_Secondary}"/>
                                </Grid>
                            </Grid>
                        </Border>
                        <ContentControl>
                           
                        </ContentControl>
                        <Grid/>
                    </DockPanel>
                </ControlTemplate>
            </Setter.Value>
        </Setter>

    </Style>
</ResourceDictionary>
